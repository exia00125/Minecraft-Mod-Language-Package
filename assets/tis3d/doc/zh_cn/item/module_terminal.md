# 终端模块

![恐怕这就是终点了](item:tis3d:module_terminal)

比起[键盘模块](module_keypad.md)，终端模块提供了一种更高级的输入方式。同时，它也是一种比[显示模块](module_display.md)更有针对性的输出方式。

用户可以输入单行的文本。当提交时，它会被逐字写入到每个输出端口中。这些文本将会被转化为数字格式以供传输。具体的转换关系请参照手册第437页。当一行文本还没有被完全传输时，用户将不可以提交新的文本。在这一状态，输入行将会变灰，光标也不会再闪烁。但是在这时你仍然可以进行输入，用户只需要在它重新可以提交时直接提交。

数值将从四个端口中永久地读入终端模块。接收到的数据将被裁切至8位（即使用0xFF作为掩码），然后再按照手册第437页的关系转化为文本。例外的情况是部分数字将被编码为控制符，包括`\a`（蜂鸣），`\b`（退格），`\t`（TAB）还有`\n`和`\r`（均为换行）。

如果写入的位置已经达到了最大的行宽度，一个新行将被自动插入（自动换行）。当屏幕的显示范围已经被填满时，插入新的一行将导致所有文本上移一行，并且丢弃第一行的内容。

任何一个输出值都只会输入到一个端口中，换句话说，一个输出值将永远不会重复写入多个端口。即使在一个[控制器](../block/controller.md)周期内有多个读取操作，也只有一个会成功。
